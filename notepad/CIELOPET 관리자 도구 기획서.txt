## 1. 프로젝트 개요

### 1.1 프로젝트 목적
CIELO PET 관리자 도구는 반려동물 장례식장의 효율적인 운영을 위한 통합 관리 시스템입니다. 본 시스템은 예약 관리, 재고 관리, 장례 서비스 관리, 추모 관리 등 장례식장 운영에 필요한 모든 기능을 제공하여 업무 효율성을 극대화하고 고객 서비스 품질을 향상시키는 것을 목적으로 합니다.

### 1.2 개발 범위
- 직원 계정 및 권한 관리 시스템
- 예약 관리 시스템
- 재고 관리 시스템
- 장례 서비스 관리 시스템
- 추모 관리 시스템

### 1.3 시스템 아키텍처
- Backend: Django 5.X
- Frontend: react js
- Design: Tailwind CSS
- Database: Mysql(일단 sqlite 이용하여 개발)
- Cache: Redis
- Web 서버: Nginx
- WSGI 서버: Gunicorn

## 2. 시스템 기능 명세

### 2.1 계정 관리 시스템

#### 2.1.1 직원 권한 관리
- 접근 권한 레벨
  * Level 1: 기본 조회 권한
  * Level 2: 예약 관리 권한
  * Level 3: 재고 관리 권한
  * Level 4: 시스템 관리 권한
  * Level 5: 최고 관리자 권한

- 권한별 기능 매트릭스

| 기능 | Level 1 | Level 2 | Level 3 | Level 4 | Level 5 |
|------|---------|---------|---------|---------|---------|
| 예약 조회 | ○ | ○ | ○ | ○ | ○ |
| 예약 관리 | × | ○ | ○ | ○ | ○ |
| 재고 조회 | ○ | ○ | ○ | ○ | ○ |
| 재고 관리 | × | × | ○ | ○ | ○ |
| 시스템 설정 | × | × | × | ○ | ○ |
| 권한 관리 | × | × | × | × | ○ |

#### 2.1.2 보안 정책
- 비밀번호 정책
  * 최소 8자 이상
  * 영문 대/소문자, 숫자, 특수문자 조합
  * 90일마다 변경 필수
- 세션 관리
  * 세션 타임아웃: 120분
  * 동시 접속 제한: 1개 디바이스

### 2.2 예약 관리 시스템

#### 2.2.1 예약 상태 관리
- 예약 상태 구분
  * 대기중
  * 예약확정
  * 진행중
  * 완료
  * 취소
  * 긴급예약

#### 2.2.2 추모실 관리
- 추모실 구분
  * 추모실 1 (5평)
  * 추모실 2 (5평)
  * 추모실 3 (5평)
- 추모실별 수용 가능 인원
  * 추모실 1: 최대 5명
  * 추모실 2: 최대 5명
  * 추모실 3: 최대 5명

#### 2.2.3 예약 프로세스
1. 예약 접수
   - 고객 정보 등록
   - 반려동물 정보 등록
   - 희망 일시 선택
   - 추모실 선택
   - 장례식 패키지 선택
2. 예약 확인
   - 일정 중복 체크
   - 준비물 재고 확인
3. 예약 확정
   - 예약금 결제
   - 확정 문자 발송
4. 일정 관리
   - 담당자 배정
   - 준비물 할당

### 2.3 재고 관리 시스템

#### 2.3.1 품목 분류
- 소모품 카테고리
  * 화장용품 (관, 유골함 등)
  * 장식용품 (꽃, 리본 등)
  * 의식용품 (향, 초 등)
  * 문구용품 (방명록, 봉투 등)
  * 직접 관리자가 입력할 수 있도록.

#### 2.3.2 재고 관리 프로세스
1. 입고 관리
   - 발주 요청
   - 입고 등록
2. 출고 관리
   - 출고 요청
   - 재고 확인
   - 출고 처리
   - 사용 등록
3. 재고 실사
   - 월간 실사
   - 연간 실사
   - 차이 분석

### 2.4 장례 서비스 관리

1. 패키지 추가 기능
   - 사용자가 기본 패키지를 선택할 수 있도록 구성.
   - 패키지에는 다양한 품목이 포함되며, 카테고리별로 품목을 선택할 수 있음.
   - 예시:
      - 카테고리 예시: 관, 화환, 장지, 장례식장, 운구차 등.
      - 카테고리별 선택: 각 카테고리에서 하나의 품목을 선택하도록 제한.
2. 카테고리별 품목 선택 기능
   - 각 카테고리별로 품목을 택1할 수 있도록 UI 제공.
   - 예시:
      - 관 카테고리: A형 관, B형 관, C형 관 중 택1.
      - 화환 카테고리: 기본 화환, 고급 화환, 프리미엄 화환 중 택1.
   - 선택한 품목은 실시간으로 패키지에 반영되어 총 금액 계산.
3. 추가옵션 선택 기능
   - 기본 패키지 외 추가로 선택할 수 있는 옵션 제공.
   - 예시:
      - 추가 화환, 추모 영상 제작, 장례식장 장식 업그레이드 등.
      - 추가옵션은 선택 시 패키지 금액에 추가되어 실시간 반영.
4. 프리미엄 라인 선택 기능
   - 프리미엄 라인 3가지 옵션 제공.
   - 예시:
      - 프리미엄 라인 A: 고급 관 + 프리미엄 화환 + 고급 장지.
      - 프리미엄 라인 B: VIP 장례식장 + 고급 운구차 + 추모 영상.
      - 프리미엄 라인 C: 모든 품목 최고급 + 추가 서비스 포함.
   - 사용자는 패키지와 프리미엄 라인 중 하나를 선택할 수 있음.
5. 패키지 + 프리미엄 라인 선택 통합 기능
   - 사용자가 패키지를 선택한 후, 프리미엄 라인 3가지 중 하나를 추가로 선택할 수 있음.
   - 패키지와 프리미엄 라인의 조합에 따라 최종 금액 계산.
6. 실시간 금액 계산 기능
   - 사용자가 선택한 패키지, 품목, 추가옵션, 프리미엄 라인 등을 실시간으로 반영하여 총 금액을 계산.
   - 금액은 화면에 명확히 표시.

### 2.5 추모 관리 시스템

#### 2.5.1 디지털 추모관
- 기능 구성
  * 추모 페이지 생성
  * 사진/동영상 업로드
  * 추모 메시지 등록
  * 방문 통계 관리
  * 공개 범위 설정

#### 2.5.2 추모식 관리
- 온라인 추모식 지원
  * 실시간 스트리밍
  * 화상 참여 시스템
  * 온라인 헌화
  * 실시간 채팅

## 3. 시스템 비기능 요구사항

### 3.1 성능 요구사항
- 페이지 로딩 시간: 3초 이내
- 동시 접속자: 최대 10명
- 데이터 백업: 일 1회
- 시스템 가용성: 99.9%

### 3.2 보안 요구사항
- SSL/TLS 적용
- 데이터 암호화 저장
- 접근 로그 저장 (1년)
- 정기 보안 감사

### 3.3 확장성 요구사항
- 마이크로서비스 아키텍처 준비
- API 버전 관리
- 멀티 리전 지원 준비

## 4. 프로젝트 일정

### 4.1 개발 단계
1. 1단계
   - 재고 관리 시스템
   - 장례 서비스 관리 시스템
2. 2단계
   - 추모 관리 시스템
   - 통합 테스트   
3. 1단계 (2개월)
   - 계정 관리 시스템
   - 예약 관리 시스템 기본 기능

### 4.2 주요 마일스톤
- M1: 시스템 설계 완료 (1개월)
- M2: 1단계 개발 완료 (3개월)
- M3: 2단계 개발 완료 (5개월)
- M4: 3단계 개발 완료 (7개월)
- M5: 시스템 안정화 (8개월)

## 5. 리스크 관리

### 5.1 예상 리스크
1. 기술적 리스크
   - 실시간 스트리밍 서비스 안정성
   - 대용량 미디어 파일 처리
   - 동시 예약 처리 문제
2. 운영 리스크
   - 시스템 다운타임
   - 데이터 손실
   - 보안 침해
3. 비즈니스 리스크
   - 사용자 적응도
   - 기능 확장성
   - 운영 비용

### 5.2 대응 방안
1. 기술적 대응
   - CDN 서비스 활용
   - 분산 처리 시스템 도입
   - 트랜잭션 관리 강화
2. 운영 대응
   - 이중화 구성
   - 자동 백업 시스템
   - 보안 모니터링
3. 비즈니스 대응
   - 사용자 교육 실시
   - 단계적 기능 도입
   - 비용 최적화 방안 수립

## 6. 유지보수 계획

### 6.1 일상적 유지보수
- 일일 시스템 점검
- 주간 성능 모니터링
- 월간 보안 업데이트

### 6.2 정기 유지보수
- 분기별 시스템 점검
- 반기별 대용량 데이터 정리
- 연간 시스템 업그레이드

## 7. 품질 보증 계획

### 7.1 테스트 전략
- 단위 테스트
- 통합 테스트
- 성능 테스트
- 보안 테스트
- 사용자 수용 테스트

### 7.2 품질 지표
- 코드 커버리지: 80% 이상
- 버그 수정 시간: 24시간 이내
- 시스템 가용성: 99.9%
- 사용자 만족도: 90% 이상

## 8. 참고 사항

### 8.1 적용 표준
- 개발 표준: PEP 8 (Python)
- API 표준: RESTful API 설계 원칙
- 보안 표준: OWASP Top 10
- UI/UX 표준: Material Design

### 8.2 용어 정의
- 추모실: 장례식을 진행하는 공간
- 스톤: 반려동물 유골을 보관하는 장식물
- 디지털 추모관: 온라인 추모 공간
- 패키지: 장례 서비스 묶음 상품